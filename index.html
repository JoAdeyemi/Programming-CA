<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset-"utf-8" />
  <title>Taxpayer Registration and Assessment</title>
  <meta name="viewport" content="width=device-width, initial scale=1" />
  <Link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header>
    <h1>Taxpayer Registry and Assessments</h1>
    <nav class="tabs">
      <button class="tab active" data-tab="register">Register Taxpayer</button>
      <button class="tab" data-tab="assessment">Raise Assessment</button>
      <button class="tab" data-tab="records">Records</button>
    </nav>
  </header>

  <main>
    <!------Section to Register new Taxpayer---->
    <section id="register" class="tab-content active">
      <h2>Register New Taxpayer</h2>
      <form id="registerForm" autocomplete="off">
        <div class="dashboard-section">
          <label>
            First name
            <input type="text" id="firstName" required />
          </label>
          <label>
            Last Name
            <input type="text" id="lastName" required />
          </label>
          <label>
            Email
            <input type="email" id="email" required /> 
          </label>
          <label>
            Phone Number
            <input type="tel" id="phone" placeholder="+353..." />
          </label>
          <label class="wide">
            Address
            <input type="text" id="address" />  
          </label>
          <label>
            Date of Birth
            <input type="date" id="dob" />
          </label>
          <label>
            Occupation
            <input type="text" id="occupation" />
          </label>
          <label>
            Annual Income (€)
            <input type="number" id="annualIncome" min="0" step="0.01" required />
          </label>
        </div>
        <button type="submit">Register</button>
      </form>
      <p id="registerMsg" class="msg"></p>
    </section>

    <!---Assessment--->
    <section id="assessment" class="tab-content">
      <div class+"dashboard-section">
        <h2>Raise Tax Assessment</h2>
        <form id="assessmentForm" class="form-vertical">

      <label>Select Taxpayer</label>
      <select id="payerSelect"></select>

      <label>Tax Year</label>
      <input type="number" id="taxYear" value="2025">

      <label>Declared Income (₦)</label>
      <input type="number" id="declaredIncome">

      <label>Other Income (₦)</label>
      <input type="number" id="otherIncome" value="0">

      <label>Pension Relief Contribution (₦)</label>
      <input type="number" id="pensionRelief" value="0">

      <p><strong>Total Income:</strong> <span id="totalIncomeDisplay">₦0</span></p>

      <p>
        <strong>Reliefs:</strong><br>
        Consolidated (20%): <span id="consolDisplay">₦0</span>
      </p>

      <button type="submit">Compute & Save Assessment</button>

      </form>

      </div>
      
  <div id="assessmentResult" class="card"></div>
</section>


    <!----Records----->
    <section id="records" class="tab-content">

  <div class="dashboard-section">

    <h2>Records</h2>

    <!-- Toolbar -->
    <div class="toolbar">
      <input 
        type="text" 
        id="searchBox" 
        placeholder="Search taxpayers by name, email, or ID…"
        style="flex:1;">
      
      <button id="exportBtn">Export JSON</button>
      <button id="importBtn">Import JSON</button>
      <input type="file" id="importFile" accept="application/json" style="display:none;">
    </div>

    <!-- Taxpayer Table -->
    <div class="table-card">
      <h3>Registered Taxpayers</h3>

      <table id="taxpayerTable">
        <thead>
          <tr>
            <th>Payer ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Annual Income (₦)</th>
          </tr>
        </thead>
        <tbody>
          <!-- dynamically rendered -->
        </tbody>
      </table>
    </div>

    <!-- Assessment Table -->
    <div class="table-card" style="margin-top:25px;">
      <h3>Tax Assessments</h3>

      <table id="assessmentTable">
        <thead>
          <tr>
            <th>Assessment ID</th>
            <th>Payer ID</th>
            <th>Year</th>
            <th>Declared Income (₦)</th>
            <th>Other Income (₦)</th>
            <th>Taxable Income (₦)</th>
            <th>Tax Due (₦)</th>
            <th>Date Created</th>
          </tr>
        </thead>
        <tbody>
          <!-- dynamically rendered -->
        </tbody>
      </table>
    </div>

  </div>

</section>

  </main>
  <footer>
    <small>MVP • Stored in localStorage • Built with vanilla JS</small>
  </footer>

  <script src="./app.js"></script>

</body>
</html>
